<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mattespill Team 1 Oppgave 3</title>
    <style>
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            appearance: none;
            margin: 0;
        }

        /* Fredrik har gjort detta, Resten har simen skrivd */
        hr {
            border: none;
        }
    </style>

</head>

<body>
    <div id="app"></div>


    <script>
        
        // model
        let answer = null;
        let correct = null;
        let number1 = null;
        let number2 = null;
        let operators = null;
        let points = 0;
        

        // view   - 
        showApp()
        function showApp() {
            document.getElementById('app').innerHTML = /*html*/ `
            <h3>Regnestykke du skal løse: </h3>
            <h3> ${number1 || ''} ${operators || ''} ${number2 || ''} </h3>
            <input onchange="calculate()"  oninput="answer=this.value" type="number"></br></br>
            <button onclick="add('x')">Gange</button>
            <button onclick="add('+')">Pluss</button>
            <button onclick="add('-')">Minus</button>
            <button onclick="add('/')">Dele</button>
            <hr>
            
            <div>${correct || ''}</div>
            </br><h4>Poeng: ${points}</h4>
            `;
        }

        // controller
        function calculate() {
            if (operators == '*') {
                if ((number1 * number2) == answer) {
                    correct = 'Du har riktig';
                    points++;
                    add('x');
                }
                else {
                    correct = 'Det var vel ikke helt riktig';
                    points--;
                }

            }
            else if (operators == '+') {
                if ((number1 + number2) == answer) {
                    correct = 'Du har riktig';
                    points++;
                    add('+');
                }
                else {
                    correct = 'Det var vel ikke helt riktig';
                    points--;
                }

            }
            else if (operators == '-') {
                if ((number1 - number2) == answer) {
                    correct = 'Du har riktig';
                    points++;
                    add('-');
                }
                else {
                    correct = 'Det var vel ikke helt riktig';
                    points--;
                }

            }
            else if (operators == '/') {
                if ((number1 / number2) == answer) {
                    correct = 'Du har riktig';
                    points++;
                    add('/');
                }
                else {
                    correct = 'Det var vel ikke helt riktig';
                    points--;
                }

            }
            else answer = 'Noe er galt';

            showApp();
        }

        function add(element) {
            if (element == 'x') {
                number1 = Math.floor(Math.random() * 10) + 1;
                number2 = Math.floor(Math.random() * 10) + 1;
                operators = '*';
            }
            else if (element == '+') {
                number1 = Math.floor(Math.random() * 10) + 1;
                number2 = Math.floor(Math.random() * 10) + 1;
                operators = '+';
            }
            else if (element == '-') {
                number1 = Math.floor(Math.random() * 10) + 1;
                number2 = Math.floor(Math.random() * 10) + 1;
                operators = '-';
            }
            else {
                number1 = Math.floor(Math.random() * 10 / 2) * 2 + 2; // Enkel løsning gjøre +1 større og jug!
                // number2 = Math.floor(Math.random() * 10 / 2) * 2 + 2; Fungerer men er stress å dele.
                number2 = 2;
                operators = '/';
                while (number2 > number1) {
                    number1 = Math.floor(Math.random() * 10 / 2) * 2 + 2;
                    // number2 = Math.floor(Math.random() * 10 / 2) * 2 + 2;
                }
            }


            showApp();
        }
    </script>
</body>

</html>